{"ast":null,"code":"var _jsxFileName = \"/Users/siddhanthmate/Desktop/AllFiles/CODE/StatArbXchange/terminal/src/components/ChartComponents.js\",\n  _s = $RefreshSig$();\n// src/ChartComponent.js\nimport React, { useEffect, useState } from 'react';\nimport io from 'socket.io-client';\nimport { Line } from 'react-chartjs-2';\nimport 'chart.js/auto';\n\n// Connect to our backend Socket.IO server\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io('http://localhost:4000');\nconst ChartComponent = () => {\n  _s();\n  const [chartData, setChartData] = useState({\n    labels: [],\n    datasets: [{\n      label: 'Price',\n      data: [],\n      fill: false,\n      backgroundColor: 'rgb(75, 192, 192)',\n      borderColor: 'rgba(75, 192, 192, 0.2)'\n    }]\n  });\n  useEffect(() => {\n    socket.on('redisData', data => {\n      // Extract the price (p) and time (t)\n      // Assuming `t` is a Unix timestamp in seconds if it is 10 digits long\n      let timestamp;\n      if (String(data.t).length === 13) {\n        timestamp = new Date(data.t);\n      } else {\n        timestamp = new Date(data.t * 1000);\n      }\n\n      // Convert to IST (Indian Standard Time) using toLocaleString with timeZone option\n      const istTime = timestamp.toLocaleString(\"en-IN\", {\n        timeZone: \"Asia/Kolkata\"\n      });\n      setChartData(prevState => ({\n        labels: [...prevState.labels, istTime],\n        datasets: [{\n          ...prevState.datasets[0],\n          data: [...prevState.datasets[0].data, parseFloat(data.p)]\n        }]\n      }));\n    });\n    return () => {\n      socket.off('redisData');\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Live Price Chart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Line, {\n      data: chartData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(ChartComponent, \"NbvN6ueeKABWW7Rqt2jlKYDa4Wc=\");\n_c = ChartComponent;\nexport default ChartComponent;\nvar _c;\n$RefreshReg$(_c, \"ChartComponent\");","map":{"version":3,"names":["React","useEffect","useState","io","Line","jsxDEV","_jsxDEV","socket","ChartComponent","_s","chartData","setChartData","labels","datasets","label","data","fill","backgroundColor","borderColor","on","timestamp","String","t","length","Date","istTime","toLocaleString","timeZone","prevState","parseFloat","p","off","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/siddhanthmate/Desktop/AllFiles/CODE/StatArbXchange/terminal/src/components/ChartComponents.js"],"sourcesContent":["// src/ChartComponent.js\nimport React, { useEffect, useState } from 'react';\nimport io from 'socket.io-client';\nimport { Line } from 'react-chartjs-2';\nimport 'chart.js/auto';\n\n// Connect to our backend Socket.IO server\nconst socket = io('http://localhost:4000');\n\nconst ChartComponent = () => {\n  const [chartData, setChartData] = useState({\n    labels: [],\n    datasets: [{\n      label: 'Price',\n      data: [],\n      fill: false,\n      backgroundColor: 'rgb(75, 192, 192)',\n      borderColor: 'rgba(75, 192, 192, 0.2)',\n    }]\n  });\n\n  useEffect(() => {\n    socket.on('redisData', (data) => {\n      // Extract the price (p) and time (t)\n      // Assuming `t` is a Unix timestamp in seconds if it is 10 digits long\n      let timestamp;\n      if (String(data.t).length === 13) {\n        timestamp = new Date(data.t);\n      } else {\n        timestamp = new Date(data.t * 1000);\n      }\n      \n      // Convert to IST (Indian Standard Time) using toLocaleString with timeZone option\n      const istTime = timestamp.toLocaleString(\"en-IN\", { timeZone: \"Asia/Kolkata\" });\n      \n      setChartData(prevState => ({\n        labels: [...prevState.labels, istTime],\n        datasets: [{\n          ...prevState.datasets[0],\n          data: [...prevState.datasets[0].data, parseFloat(data.p)]\n        }]\n      }));\n    });\n\n    return () => {\n      socket.off('redisData');\n    }\n  }, []);\n\n  return (\n    <div>\n      <h2>Live Price Chart</h2>\n      <Line data={chartData} />\n    </div>\n  );\n};\n\nexport default ChartComponent;\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,EAAE,MAAM,kBAAkB;AACjC,SAASC,IAAI,QAAQ,iBAAiB;AACtC,OAAO,eAAe;;AAEtB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,MAAM,GAAGJ,EAAE,CAAC,uBAAuB,CAAC;AAE1C,MAAMK,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC;IACzCU,MAAM,EAAE,EAAE;IACVC,QAAQ,EAAE,CAAC;MACTC,KAAK,EAAE,OAAO;MACdC,IAAI,EAAE,EAAE;MACRC,IAAI,EAAE,KAAK;MACXC,eAAe,EAAE,mBAAmB;MACpCC,WAAW,EAAE;IACf,CAAC;EACH,CAAC,CAAC;EAEFjB,SAAS,CAAC,MAAM;IACdM,MAAM,CAACY,EAAE,CAAC,WAAW,EAAGJ,IAAI,IAAK;MAC/B;MACA;MACA,IAAIK,SAAS;MACb,IAAIC,MAAM,CAACN,IAAI,CAACO,CAAC,CAAC,CAACC,MAAM,KAAK,EAAE,EAAE;QAChCH,SAAS,GAAG,IAAII,IAAI,CAACT,IAAI,CAACO,CAAC,CAAC;MAC9B,CAAC,MAAM;QACLF,SAAS,GAAG,IAAII,IAAI,CAACT,IAAI,CAACO,CAAC,GAAG,IAAI,CAAC;MACrC;;MAEA;MACA,MAAMG,OAAO,GAAGL,SAAS,CAACM,cAAc,CAAC,OAAO,EAAE;QAAEC,QAAQ,EAAE;MAAe,CAAC,CAAC;MAE/EhB,YAAY,CAACiB,SAAS,KAAK;QACzBhB,MAAM,EAAE,CAAC,GAAGgB,SAAS,CAAChB,MAAM,EAAEa,OAAO,CAAC;QACtCZ,QAAQ,EAAE,CAAC;UACT,GAAGe,SAAS,CAACf,QAAQ,CAAC,CAAC,CAAC;UACxBE,IAAI,EAAE,CAAC,GAAGa,SAAS,CAACf,QAAQ,CAAC,CAAC,CAAC,CAACE,IAAI,EAAEc,UAAU,CAACd,IAAI,CAACe,CAAC,CAAC;QAC1D,CAAC;MACH,CAAC,CAAC,CAAC;IACL,CAAC,CAAC;IAEF,OAAO,MAAM;MACXvB,MAAM,CAACwB,GAAG,CAAC,WAAW,CAAC;IACzB,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEzB,OAAA;IAAA0B,QAAA,gBACE1B,OAAA;MAAA0B,QAAA,EAAI;IAAgB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACzB9B,OAAA,CAACF,IAAI;MAACW,IAAI,EAAEL;IAAU;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACtB,CAAC;AAEV,CAAC;AAAC3B,EAAA,CA9CID,cAAc;AAAA6B,EAAA,GAAd7B,cAAc;AAgDpB,eAAeA,cAAc;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}